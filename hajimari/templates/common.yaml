{{- include "bjw-s.common.loader.init" . -}}

{{- define "hajimari.settingsVolume" -}}
enabled: "true"
mountPath: "/config/config.yaml"
subPath: "config.yaml"
type: "custom"
volumeSpec:
  configMap:
    name: {{ include "bjw-s.common.lib.chart.names.fullname" .  }}-settings
{{- end -}}
{{- $_ := set .Values.persistence "hajimari-settings" (include "hajimari.settingsVolume" . | fromYaml) -}}

{{- include "bjw-s.common.loader.all" }}